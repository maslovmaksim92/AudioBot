# üöÄ –î–µ–ø–ª–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ Render

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∏:

Webhook –æ—Ç Novofon –ø—Ä–∏—Ö–æ–¥–∏–ª —Å –æ—à–∏–±–∫–æ–π **422 Unprocessable Entity** –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª –æ–∂–∏–¥–∞–Ω–∏—è–º endpoint'–∞.

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. Endpoint —Ç–µ–ø–µ—Ä—å **–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ** –æ—Ç Novofon
2. –î–æ–±–∞–≤–ª–µ–Ω–æ **–¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è **–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π** (—Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π)
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–≤–æ–Ω–∫–∞

## üìã –ö–∞–∫ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω GitHub)

```bash
cd /path/to/your/project
git add .
git commit -m "Fix: Novofon webhook 422 error - accept any data format"
git push origin main
```

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π –Ω–∞ Render

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.render.com
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å **audiobot-qci2**
3. –ù–∞–∂–º–∏—Ç–µ **Manual Deploy** ‚Üí **Deploy latest commit**
4. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `/app/backend/app/routers/call_summary.py`
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä Render —á–µ—Ä–µ–∑ –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

---

## üß™ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. **–°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫** –Ω–∞/—Å +79843330712
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Render:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üìû Received Novofon webhook data: {...}`
   - –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç **–í–°–ï –¥–∞–Ω–Ω—ã–µ** –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç Novofon
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ** –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ - —è —É–≤–∏–∂—É —Ç–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Novofon

---

## üîç –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö:

–ü–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ –∑–≤–æ–Ω–∫–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üìû Received Novofon webhook data: {–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç Novofon}
üìû Normalized webhook: call_id=..., status=..., has_record=True/False
```

–ï—Å–ª–∏ `has_record=False` - –∑–Ω–∞—á–∏—Ç Novofon –Ω–µ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∑–∞–ø–∏—Å—å.
–ï—Å–ª–∏ `has_record=True` - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É.

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. Novofon –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∑–≤–æ–Ω–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ Novofon —á—Ç–æ–±—ã webhook –ø—Ä–∏—Å—ã–ª–∞–ª –ø–æ–ª–µ `record_url` –∏–ª–∏ `recording_url`

### 2. –ó–∞–ø–∏—Å—å –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤–∞
**–†–µ—à–µ–Ω–∏–µ:** Novofon –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å webhook –¥–æ —Ç–æ–≥–æ –∫–∞–∫ –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –∏–ª–∏ retry –ª–æ–≥–∏–∫—É.

### 3. –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** Whisper –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç mp3, wav, m4a, ogg. –ï—Å–ª–∏ Novofon –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç - –Ω—É–∂–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è.

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. ‚úÖ –°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫
3. ‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç Novofon
4. ‚úÖ –ü–æ–∫–∞–∑–∞—Ç—å –º–Ω–µ - —è –¥–æ—Ä–∞–±–æ—Ç–∞—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. ‚úÖ Profit! üéâ
