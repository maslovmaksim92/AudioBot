# üöÄ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Æ –ù–ê RENDER

## ‚ö†Ô∏è –°–†–û–ß–ù–û! TELEGRAM –ë–û–¢ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ - –ò–°–ü–†–ê–í–õ–Ø–ï–ú –°–ï–ô–ß–ê–°

### üî• **–®–ê–ì 1: –î–û–ë–ê–í–¨–¢–ï –≠–¢–ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï –í RENDER**

–ò–¥–∏—Ç–µ –≤ **Render Dashboard > –í–∞—à —Å–µ—Ä–≤–∏—Å > Environment** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# === –û–°–ù–û–í–ù–´–ï ===
NODE_ENV=production
PORT=8001

# === –ë–ê–ó–ê –î–ê–ù–ù–´–• === 
# ‚ö†Ô∏è –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –í–ê–® –†–ï–ê–õ–¨–ù–´–ô MONGODB ATLAS URL!
MONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/vasdom?retryWrites=true&w=majority
DB_NAME=vasdom_production

# === AI ===
EMERGENT_LLM_KEY=sk-emergent-0A408AfAeF26aCd5aB

# === TELEGRAM BOT === 
TELEGRAM_BOT_TOKEN=8327964628:AAHMIgT1XiGEkLc34nogRGZt-Ox-9R0TSn0
TELEGRAM_WEBHOOK_URL=https://YOUR-APP-NAME.onrender.com/api/telegram/webhook
TELEGRAM_WEBHOOK_SECRET=VasDom_Secure_Webhook_2025_Key

# === BITRIX24 CRM ===
BITRIX24_WEBHOOK_URL=https://vas-dom.bitrix24.ru/rest/1/2e11sgsjz1nf9l5h/
BITRIX24_DOMAIN=vas-dom.bitrix24.ru
BITRIX24_USER_ID=1
BITRIX24_SECRET=2e11sgsjz1nf9l5h

# === –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ ===
CORS_ORIGINS=https://YOUR-APP-NAME.onrender.com,https://vas-dom.bitrix24.ru
FRONTEND_URL=https://YOUR-APP-NAME.onrender.com
SECRET_KEY=VasDom_SuperSecret_Production_Key_2025
```

### üî• **–®–ê–ì 2: –ó–ê–ú–ï–ù–ò–¢–ï YOUR-APP-NAME**

–í –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—ã—à–µ –∑–∞–º–µ–Ω–∏—Ç–µ `YOUR-APP-NAME.onrender.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω Render!

### üî• **–®–ê–ì 3: –ù–ê–°–¢–†–û–ô–¢–ï MONGODB**

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://cloud.mongodb.com
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä (–µ—Å–ª–∏ –Ω–µ—Ç)
3. –ü–æ–ª—É—á–∏—Ç–µ connection string
4. –ó–∞–º–µ–Ω–∏—Ç–µ `MONGO_URL` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL

### üî• **–®–ê–ì 4: –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø - –ê–ö–¢–ò–í–ò–†–£–ô–¢–ï –ë–û–¢–ê**

–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook –¥–ª—è Telegram –±–æ—Ç–∞
GET https://YOUR-APP-NAME.onrender.com/api/telegram/set-webhook

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã  
GET https://YOUR-APP-NAME.onrender.com/api/system/health

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
GET https://YOUR-APP-NAME.onrender.com/api/telegram/webhook-info
```

### üî• **–®–ê–ì 5: –ò–°–ü–†–ê–í–ò–¢–¨ BITRIX24 –ü–†–ê–í–ê**

–ï—Å–ª–∏ Bitrix24 –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É "insufficient_scope":

1. –ó–∞–π–¥–∏—Ç–µ –≤ **Bitrix24 > –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º > –í–µ–±—Ö—É–∫–∏**
2. –ù–∞–π–¥–∏—Ç–µ webhook —Å –∫–ª—é—á–æ–º `2e11sgsjz1nf9l5h`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã –ø—Ä–∞–≤–∞:
   - ‚úÖ **crm** (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CRM)
   - ‚úÖ **task** (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏) 
   - ‚úÖ **user** (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö)
   - ‚úÖ **department** (–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–∞–Ω–∏–∏)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üî• **–®–ê–ì 6: –ü–†–û–í–ï–†–¨–¢–ï –†–ê–ë–û–¢–£**

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

1. **Telegram Bot**: –ù–∞–π–¥–∏—Ç–µ @aitest123432_bot –∏ –Ω–∞–ø–∏—à–∏—Ç–µ `/start`
2. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –û—Ç–∫—Ä–æ–π—Ç–µ https://YOUR-APP-NAME.onrender.com
3. **API**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ https://YOUR-APP-NAME.onrender.com/api/dashboard

---

## ‚úÖ **–ß–ï–ö–ò–°–¢ –£–°–ü–ï–®–ù–û–ì–û –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø**

- [ ] MongoDB URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ environment variables –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Render
- [ ] Telegram webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤—ã–∑–≤–∞–Ω /set-webhook)
- [ ] Bitrix24 –ø—Ä–∞–≤–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É `/start`
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –î–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üÜò **–ï–°–õ–ò –ù–ò–ß–ï–ì–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢**

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ TELEGRAM_WEBHOOK_URL (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –¥–æ–º–µ–Ω–æ–º Render)
2. –í—ã–∑–æ–≤–∏—Ç–µ `/api/telegram/set-webhook` –µ—â–µ —Ä–∞–∑
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Render –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "Database connection failed"
**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ MONGO_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MongoDB Atlas whitelist (–¥–æ–±–∞–≤—å—Ç–µ 0.0.0.0/0)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ connection string

### –ü—Ä–æ–±–ª–µ–º–∞: Bitrix24 –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook URL (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `/`)
2. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ webhook –≤ Bitrix24
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π webhook –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üìû **–°–õ–£–ñ–ë–ê –ü–û–î–î–ï–†–ñ–ö–ò**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard > –í–∞—à —Å–µ—Ä–≤–∏—Å > Logs
2. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–æ–∫
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Å —Ç–æ—á–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

üéØ **–ì–ª–∞–≤–Ω–æ–µ**: –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Render –∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∑–æ–≤–∏—Ç–µ `/api/telegram/set-webhook` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±–æ—Ç–∞!