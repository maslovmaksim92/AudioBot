# VasDom AudioBot - Production Render Config
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–±—É—á–∞–µ–º—ã–π AI –¥–ª—è –∫–ª–∏–Ω–∏–Ω–≥–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

services:
  - type: web
    name: vasdom-audiobot
    env: python
    region: oregon
    plan: starter
    buildCommand: |
      pip install --upgrade pip && 
      pip install -r backend/requirements.txt &&
      echo "‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã" &&
      python -c "import torch; print(f'PyTorch: {torch.__version__}')" &&
      python -c "import sentence_transformers; print('Sentence Transformers: OK')" &&
      echo "üöÄ Build completed successfully"
    startCommand: |
      uvicorn app.main:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: DATABASE_URL
        value: ${DATABASE_URL}
      - key: EMERGENT_LLM_KEY
        value: sk-emergent-0A408AfAeF26aCd5aB
      - key: EMBEDDING_MODEL
        value: sentence-transformers/paraphrase-multilingual-MiniLM-L6-v2
      - key: MIN_RATING_THRESHOLD
        value: 4
      - key: RETRAINING_THRESHOLD
        value: 3.5
      - key: CORS_ORIGINS
        value: https://audiobot-qci2.onrender.com